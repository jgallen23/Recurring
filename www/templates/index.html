<!DOCTYPE HTML>
<html>
	<head>
		<title>Recurring</title>
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name = "viewport" content = "width = device-width, initial-scale = 1.0, user-scalable = no, maximum-scale = 1.0">

		{% for file in css_files %}
		<link rel="stylesheet" type="text/css" href="{{ css_path }}/{{ file }}"/>
		{% endfor %}
		{% if remote %}
		<script src="http://{{ remote }}:8081/target/target-script.js"></script>
		{% endif %}
	</head>
    <body class="{% if debug %} Debug{% endif %}">
		<div id="PageContainer">
			{% include "task_list.html" %}
			{% include "edit_task.html" %}
		</div>
		{% if phonegap %}
			<script src="phonegap.js"></script>
			{% for file in phonegap_plugin_files %}
			<script src="{{ js_path }}/{{ file }}"></script>
			{% endfor %}
		{% endif %}
		{% for file in appui_files %}
		<script src="{{ appui_path }}/{{ file }}"></script>
		{% endfor %}
		{% for file in js_files %}
		<script src="{{ js_path }}/{{ file }}"></script>
		{% endfor %}
		<script>
			ui.ready(function() {
				ui.mobile.disableScrollingPermanently();
				persistence.store.websql.config(persistence, 'Recurring', 'RecurringDb', 5 * 1024 * 1024);
				persistence.schemaSync(function(tx) {
					new TaskListController('TaskList');
				});
			});
			ui.resize(function(width, height) {
				console.log(height);
				var container = document.getElementById("PageContainer");
				container.style.width = width+"px";
				container.style.height = height+"px";
				document.querySelector(".Page").height = height+"px";
			});
		</script>
	</body>
</html>
